<div class="postitem <%= 'user-post-or-comment' if defined?(user_view) && user_view && post.user == current_user %>" id=post.id>
  <div class="vote">
    <br>
    <% if user_signed_in? && current_user.liked_post?(post) %>
      <%= button_to like_post_path(post), method: :delete, remote: true, class: "voteButton voted" do %>
        <i class="fas fa-arrow-up"></i><span> </span><%= post.likes.count %>
      <% end %>
    <% else %>
      <%= button_to like_post_path(post), method: :post, remote: true, class: "voteButton" do %>
        <i class="fas fa-arrow-up"></i><span> </span><%= post.likes.count %>
      <% end %>
    <% end %>

    <% if user_signed_in? && current_user.disliked_post?(post) %>
      <%= button_to dislike_post_path(post), method: :delete, remote: true, class: "voteButton voted" do %>
        <i class="fas fa-arrow-down"></i><span> </span><%= post.dislikes.count %>
      <% end %>
    <% else %>
      <%= button_to dislike_post_path(post), method: :post, remote: true, class: "voteButton" do %>
        <i class="fas fa-arrow-down"></i><span> </span><%= post.dislikes.count %>
      <% end %>
    <% end %>
  </div>

  <div class="postinfo">
    <h3><%= link_to post.title, post, :class => 'link' %>
      <% if post.url.present? %> <a href="http://<%= post.url %>" target="_blank" class="domain">(<%= post.url %>)</a>
      <% end %></h3>

    <h4><span><%= link_to post.user.name, user_path(post.user),  class: 'user-link' %></span>,
      <span class="domain"><%= time_ago_in_words(post.created_at) %> ago</span><span class="domain"> to </span>
      <span><%= link_to post.magazine.name, magazine_posts_path(post.magazine), class: 'user-link' %></span></h4>
    <div style="display :flex">
      <%= link_to post.comments.count.to_s + ' comments', post, class: "boostButton" %>

      <% if user_signed_in? && current_user.boosted_post?(post) %>
        <%= button_to boost_post_path(post), method: :delete, remote: true, class: "boostButton voted" do %>
          <%= 'unboost (' + post.boosts.count.to_s + ')' %>
        <% end %>
      <% else %>
        <%= button_to boost_post_path(post), method: :post, remote: true, class: "boostButton" do %>
          <%= 'boost (' + post.boosts.count.to_s + ')' %>
        <% end %>
      <% end %>

      <% if user_signed_in? && current_user == post.user %>
        <div class="dropdown">
          <button class="boostButton">more</button>
          <div class="dropdown-content">
            <%= link_to 'edit', edit_post_path(post), class: "boostButton" %>
            <a><%= button_to 'delete', post, method: :delete, data: { confirm: 'Are you sure?' }, class: 'delete-button' %></a>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>


